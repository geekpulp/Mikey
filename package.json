{
  "name": "mikey",
  "displayName": "Mikey",
  "description": "PRD-driven development workflow extension",
  "version": "0.0.1",
  "publisher": "geekpulp",
  "repository": {
    "type": "git",
    "url": "https://github.com/geekpulp/Mikey"
  },
  "engines": {
    "vscode": "^1.109.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onView:mikey.prdExplorer",
    "workspaceContains:**/prd.json"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "mikey",
          "title": "Mikey",
          "icon": "resources/mikey-icon.svg"
        }
      ]
    },
    "views": {
      "mikey": [
        {
          "id": "mikey.prdExplorer",
          "name": "PRD Items",
          "canMoveViews": true,
          "canSelectMany": false
        }
      ]
    },
    "commands": [
      {
        "command": "mikey.refresh",
        "title": "Refresh",
        "icon": "$(refresh)"
      },
      {
        "command": "mikey.filterByStatus",
        "title": "Filter by Status",
        "icon": "$(filter)"
      },
      {
        "command": "mikey.filterByCategory",
        "title": "Filter by Category",
        "icon": "$(tag)"
      },
      {
        "command": "mikey.addItem",
        "title": "Add PRD Item",
        "icon": "$(add)"
      },
      {
        "command": "mikey.editItem",
        "title": "Edit PRD Item",
        "icon": "$(edit)"
      },
      {
        "command": "mikey.deleteItem",
        "title": "Delete PRD Item",
        "icon": "$(trash)"
      },
      {
        "command": "mikey.runItem",
        "title": "Run PRD Item",
        "icon": "$(play)"
      },
      {
        "command": "mikey.runItemDirect",
        "title": "Run PRD Item (Direct)",
        "icon": "$(play)"
      },
      {
        "command": "mikey.startWork",
        "title": "Start Work (Chat)",
        "icon": "$(comment-discussion)"
      },
      {
        "command": "mikey.markStepComplete",
        "title": "Mark Step Complete"
      },
      {
        "command": "mikey.runQueue",
        "title": "Run PRD Queue",
        "icon": "$(play-circle)"
      },
      {
        "command": "mikey.archiveCompleted",
        "title": "Archive Completed Items",
        "icon": "$(archive)"
      }
    ],
    "menus": {
      "view/title": [
        {
          "command": "mikey.runQueue",
          "when": "view == mikey.prdExplorer",
          "group": "navigation@1"
        },
        {
          "command": "mikey.filterByStatus",
          "when": "view == mikey.prdExplorer",
          "group": "navigation@2"
        },
        {
          "command": "mikey.filterByCategory",
          "when": "view == mikey.prdExplorer",
          "group": "navigation@3"
        },
        {
          "command": "mikey.archiveCompleted",
          "when": "view == mikey.prdExplorer",
          "group": "navigation@4"
        },
        {
          "command": "mikey.refresh",
          "when": "view == mikey.prdExplorer",
          "group": "navigation@5"
        },
        {
          "command": "mikey.addItem",
          "when": "view == mikey.prdExplorer",
          "group": "navigation@6"
        }
      ],
      "view/item/context": [
        {
          "command": "mikey.runItemDirect",
          "when": "view == mikey.prdExplorer && viewItem == prdItem",
          "group": "inline@1"
        },
        {
          "command": "mikey.editItem",
          "when": "view == mikey.prdExplorer && viewItem == prdItem",
          "group": "inline@3"
        },
        {
          "command": "mikey.deleteItem",
          "when": "view == mikey.prdExplorer && viewItem == prdItem",
          "group": "inline@4"
        }
      ]
    },
    "keybindings": [
      {
        "command": "mikey.addItem",
        "key": "n",
        "when": "focusedView == mikey.prdExplorer"
      },
      {
        "command": "mikey.openItem",
        "key": "enter",
        "when": "focusedView == mikey.prdExplorer && viewItem == prdItem"
      },
      {
        "command": "mikey.deleteItem",
        "key": "delete",
        "mac": "cmd+backspace",
        "when": "focusedView == mikey.prdExplorer && viewItem == prdItem"
      }
    ],
    "configuration": {
      "title": "Mikey",
      "properties": {
        "mikey.promptTemplate": {
          "type": "string",
          "default": "prompts/default.txt",
          "description": "Path to the prompt template file to use when starting work on items (relative to workspace root)"
        },
        "mikey.debugMode": {
          "type": "boolean",
          "default": false,
          "description": "Enable debug logging in the Mikey output channel"
        },
        "mikey.prdFilePath": {
          "type": "string",
          "default": "plans/prd.json",
          "description": "Path to the PRD JSON file (relative to workspace root)"
        },
        "mikey.skillsDirectory": {
          "type": "string",
          "default": "skills",
          "description": "Directory containing skill reference files"
        },
        "mikey.testSkillsDirectory": {
          "type": "string",
          "default": "test/skills",
          "description": "Directory containing test skill files"
        },
        "mikey.promptsDirectory": {
          "type": "string",
          "default": "prompts",
          "description": "Directory containing prompt templates"
        },
        "mikey.featureBranchPrefix": {
          "type": "string",
          "default": "feature/",
          "description": "Prefix for feature branches created when starting work on items"
        },
        "mikey.mainBranch": {
          "type": "string",
          "default": "main",
          "description": "Name of the main/default branch for git operations"
        },
        "mikey.categories": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "setup",
            "ui",
            "functional",
            "git",
            "agent",
            "polish",
            "test",
            "refactor",
            "quality",
            "security",
            "Bug",
            "Action",
            "Docs",
            "Audit"
          ],
          "description": "Available categories for PRD items. Customize this list to match your project's needs."
        },
        "mikey.archiving.autoArchiveOnExit": {
          "type": "boolean",
          "default": false,
          "description": "Automatically archive completed items when the extension is deactivated or VS Code exits"
        },
        "mikey.archiving.retentionDays": {
          "type": "number",
          "default": 90,
          "minimum": 1,
          "description": "Number of days to retain archive files before automatic cleanup (0 means keep forever)"
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "pnpm run esbuild-base -- --production",
    "esbuild-base": "node esbuild.mjs",
    "compile": "pnpm run esbuild-base",
    "watch": "node esbuild.mjs --watch",
    "typecheck": "tsc --noEmit",
    "pretest": "tsc -p ./",
    "test": "node ./out/test/runTest.js",
    "test:unit": "mocha --require ts-node/register 'src/test/suite/**/*.test.ts'",
    "build": "vsce package --out build",
    "package": "vsce package"
  },
  "devDependencies": {
    "@types/mocha": "^10.0.10",
    "@types/node": "^18.19.130",
    "@types/vscode": "^1.109.0",
    "@vscode/test-electron": "^2.5.2",
    "@vscode/vsce": "^3.7.1",
    "esbuild": "^0.27.3",
    "mocha": "^11.7.5",
    "typescript": "^5.0.0"
  },
  "dependencies": {
    "zod": "^4.3.6"
  }
}