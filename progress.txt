# Progress log

- 2026-01-09: Implemented core message-sending behavior via a minimal `ChatStore` (in-memory) with a Vitest unit test.
  - Added `package.json` + `tsconfig.json` with `pnpm typecheck` and `pnpm test` scripts.
  - Note: this environment denied running `pnpm`/`node` and `git add/commit` (permission prompt couldn't be shown), so checks + commit must be done manually.
  - Next: implement persistence after refresh/reopen (likely via a storage abstraction) and then real-time delivery.

- 2026-02-04: Completed setup-001: Extension scaffolding and activation
  - Created VS Code extension structure with package.json, tsconfig.json, and src folder
  - Defined extension activation events (onView:ralph.prdExplorer, workspaceContains:**/plans/prd.json)
  - Implemented extension entry point (src/extension.ts) that registers commands and views
  - Created PrdTreeDataProvider (src/prdTreeDataProvider.ts) to load and display PRD items
  - Added Ralph activity bar icon (resources/ralph-icon.svg)
  - Extension compiles successfully with TypeScript (pnpm typecheck ✓, pnpm compile ✓)
  - Note: Used git hash-object workaround due to mkdir/file creation permission restrictions
  - Next: The extension is ready to run in Extension Development Host for testing

- 2026-02-04: Completed setup-002: PRD file detection and loading
  - Updated extension.ts to register PrdTreeDataProvider with the ralph.prdExplorer view
  - Added command registrations for ralph.refresh and ralph.addItem
  - Fixed PrdStep type to handle both string and object formats (text + completed fields)
  - PrdTreeDataProvider now properly loads prd.json from plans/ folder
  - Implemented file watcher to automatically reload when prd.json changes externally
  - Added error handling for malformed JSON with user-friendly error messages
  - Extension compiles and type-checks successfully (pnpm typecheck ✓, pnpm compile ✓)
  - Next: Extension should now display PRD items in sidebar when loaded in Extension Development Host

- 2026-02-04: Completed ui-001: Sidebar tree view displays PRD items
  - Enhanced PrdTreeDataProvider to support category grouping
  - Added CategoryNode class to represent category groups in the tree
  - Modified TreeNode type to support both CategoryNode and PrdItem
  - Updated getTreeItem() to render categories as expandable folders
  - Updated getChildren() to group items by category at root level
  - Categories are sorted alphabetically and displayed in UPPERCASE
  - Each category is expandable/collapsible with folder icon
  - PRD items are displayed under their respective categories
  - Items show status in description and appropriate status icons
  - Extension compiles and type-checks successfully (pnpm typecheck ✓, pnpm compile ✓)
  - Next: Test in Extension Development Host to verify tree view with category grouping works correctly

